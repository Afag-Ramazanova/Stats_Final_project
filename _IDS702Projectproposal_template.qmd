---
title: "Project Proposal"
author: "Afag, Peter, Elenor, Moba the Late"
subtitle: "Due November 17 at 11:59pm"
format: pdf
---

#### Load Packages

```{r load-packages, message = FALSE, warning = FALSE}
library(tidyverse)
```

# Dataset 1 (top choice)
Police Killing Dataset
**Data source:**
https://github.com/fivethirtyeight/data/tree/master/police-killings
**Brief description:**
This dataset includes details on police killings in the United States, with variables such as location, race, gender, age, and circumstances of each incident.
**Research question 1: Is there an association between the economic conditions of a county and the racial composition of individuals involved in police-related incidents?**

- Outcome variable: race ethnicity (Nominal) – categorizes the racial/ethnic group of the deceased.
- Independent Variables:
    - _compincome_ : A measure of relative income (household income divided by county income) which indicates economic status.
    - _pov_ : Poverty level in the area, providing additional context on socio-economic conditions.


**Research question 2: Does the likelihood of an individual being armed in a police-related incident vary based on age and unemployment rate in the area?**

- Outcome variable: armed (Binary) – indicates whether the deceased was armed at the time of the incident.
- Independent Variables:
    - _age_: Age of the deceased (continuous variable).
    - _urate_: Unemployment rate in the area, which could represent socio-economic stress.
- Interaction Term: An interaction between age and urate to see if age and local unemployment influence the likelihood of individuals being armed.


**Load the data and provide a `glimpse()`**:

```{r data-1, warning=FALSE}

```

# Dataset 2 

**Data source:** Pew Research East Asian Religion

**Brief description:** The dataset surveys different east asian countries to see how many of them are religious and how the factors that influence them

**Research question 1:**

What variables are associated with being religious

-   Outcome variable: IsReligious, binary variable, specifies if the respondent is religious

**Research question 2:**

Do different regions have an effect on the factors that correlates with a person's bent on religion?

-   Outcome variable (include the name/description and type of variable):

**Load the data and provide a `glimpse()`**:

```{r data-1, warning=FALSE}
library(tidyverse)

data <- read.csv("data/dataset_2.csv")

set.seed(123)  
data_subset <- data %>% sample_n(1000)

summary(data_subset)
glimpse(data_subset)
 


```



**Exploratory Plots:**

```{r plots-1}
religiosity_vars <- data_subset %>% 
  select(QCURREL, Q9, Q10, Q28)

ggplot(data_subset, aes(x = factor(Q9, labels = c("Very", "Somewhat", "Not Very", "Not at all","Don’t know","Refused")))) +
  geom_bar() +
  labs(title = "Importance of Religion", x = "Level", y = "Count")

cor(data_subset$QAGE, data$Q9, use = "complete.obs")

data_subset %>%
  group_by(VietnamRegion) %>%
  summarize(mean_religion_importance = mean(Q9, na.rm = TRUE)) %>%
  ggplot(aes(x = VietnamRegion, y = mean_religion_importance)) +
  geom_bar(stat = "identity") +
  labs(title = "Religiosity by Region", x = "Region", y = "Mean Importance")

chisq.test(table(data_subset$Q9, data_subset$VietnamRegion))


data_subset <- data_subset %>%
  mutate(
    religion_importance = factor(Q9, 
                                 levels = c(1, 2, 3, 4), 
                                 labels = c("Very important", "Somewhat important", "Not very important", "Not at all important")),
    harmony_priority = factor(Q36, 
                              levels = c(1, 2, 3), 
                              labels = c("Prioritize Expression", "Prioritize Harmony", "Other/Depends"))
  )

ggplot(data_subset, aes(x = religion_importance, fill = harmony_priority)) +
  geom_bar(position = "fill") +
  scale_y_continuous(labels = scales::percent_format()) +
  labs(
    title = "Relationship between Religion Importance and Harmony Priority",
    x = "Importance of Religion",
    y = "Proportion",
    fill = "Priority"
  ) +
  theme_minimal()

```




```{r}
library(tidyverse)
library(scales)  

set.seed(123)  
data_subset <- data %>% sample_n(1000)

# Bar Plot: Importance of Religion
ggplot(data_subset, aes(x = factor(Q9, 
                                   levels = c(1, 2, 3, 4, 98, 99), 
                                   labels = c("Very", "Somewhat", "Not Very", "Not at all", "Don’t know", "Refused")))) +
  geom_bar(fill = "steelblue") +
  labs(title = "Importance of Religion", x = "Level", y = "Count") +
  theme_minimal()

# Correlation Between Age and Importance of Religion
correlation <- cor(data_subset$QAGE, as.numeric(data_subset$Q9), use = "complete.obs")
print(paste("Correlation between Age and Religion Importance:", correlation))

# Bar Plot: Religiosity by Region
data_subset %>%
  group_by(VietnamRegion) %>%
  summarize(mean_religion_importance = mean(as.numeric(Q9), na.rm = TRUE)) %>%
  ggplot(aes(x = VietnamRegion, y = mean_religion_importance)) +
  geom_bar(stat = "identity", fill = "skyblue") +
  labs(title = "Religiosity by Region", x = "Region", y = "Mean Importance") +
  theme_minimal()

# Chi-Square Test: Religion Importance and Region
chisq_result <- chisq.test(table(data_subset$Q9, data_subset$VietnamRegion))
print("Chi-Square Test Results:")
print(chisq_result)

# Relationship Between Religion Importance and Harmony Priority
data_subset <- data_subset %>%
  mutate(
    religion_importance = factor(Q9, 
                                 levels = c(1, 2, 3, 4, 98, 99), 
                                 labels = c("Very important", "Somewhat important", "Not very important", "Not at all important", "Don’t know", "Refused")),
    harmony_priority = factor(Q36, 
                              levels = c(1, 2, 3), 
                              labels = c("Prioritize Expression", "Prioritize Harmony", "Other/Depends"))
  )

ggplot(data_subset, aes(x = religion_importance, fill = harmony_priority)) +
  geom_bar(position = "fill") +
  scale_y_continuous(labels = percent_format()) +
  labs(
    title = "Relationship Between Religion Importance and Harmony Priority",
    x = "Importance of Religion",
    y = "Proportion",
    fill = "Priority"
  ) +
  theme_minimal()

```


# 

# Team Charter

#### When will you meet as a team to work on the project components? Will these meetings be held in person or virtually?
We will do both as needed, on an ad-hoc basis.

#### What is your group policy on missing team meetings (e.g., how much advance notice should be provided)?
One day in advance. The person missing the meeting will do more work.

#### How will your team communicate (email, Slack, text messages)? What is your policy on appropriate response time (within a certain number of hours? Nights/weekends?)?
We will communicate via whatsapp, responses should be in the same day.


#### 
